ðŸ’» LEX + YACC PROGRAM SETUP & EXECUTION (UBUNTU FULL GUIDE)
ðŸ§© STEP 1 â€” INSTALL REQUIRED TOOLS

Open your Terminal and type:

sudo apt update
sudo apt install flex bison gcc -y

âœ… To verify installation:
flex --version
bison --version
gcc --version


If all three show version numbers â†’ tools are correctly installed.

ðŸ§© STEP 2 â€” CREATE A PROJECT FOLDER

You can place your files anywhere, for example inside your home directory:

mkdir ~/LexYaccDemo
cd ~/LexYaccDemo


This will be your working folder.

ðŸ§© STEP 3 â€” CREATE THE SOURCE FILES

Youâ€™ll need three files:

lexer.l â€“ Lex file

parser.y â€“ Yacc file

test.c (optional) â€“ for input redirection test

â‘  Create parser.y
nano parser.y


Paste this content:

%{
#include <stdio.h>
#include <stdlib.h>
int yylex(void);
void yyerror(const char *s);
%}

%token NUMBER

%%
expr:
    expr '+' expr   { printf("= %d\n", $1 + $3); }
  | expr '-' expr   { printf("= %d\n", $1 - $3); }
  | expr '*' expr   { printf("= %d\n", $1 * $3); }
  | expr '/' expr   { printf("= %d\n", $1 / $3); }
  | NUMBER
  ;
%%

void yyerror(const char *s) { fprintf(stderr, "%s\n", s); }

int main() {
    printf("Enter expressions (Ctrl+D to end):\n");
    yyparse();
    return 0;
}


Then save:
Press Ctrl+O, Enter, then Ctrl+X.

â‘¡ Create lexer.l
nano lexer.l


Paste this:

%{
#include "parser.tab.h"
%}

%%
[0-9]+      { yylval = atoi(yytext); return NUMBER; }
[+\-*/]     { return *yytext; }
\n          { return 0; }
[ \t]       ;
.           { return yytext[0]; }
%%


Save with Ctrl+O, Enter, Ctrl+X.

â‘¢ (Optional) Create test.c â€” sample input
echo "5+3" > test.c

ðŸ§© STEP 4 â€” GENERATE THE FILES (LEX & YACC)

Now run:

bison -d parser.y
flex lexer.l


âœ… After this, your folder will contain:

parser.y
parser.tab.c
parser.tab.h
lexer.l
lex.yy.c

ðŸ§© STEP 5 â€” COMPILE EVERYTHING

Use GCC to compile:

gcc lex.yy.c parser.tab.c -o calc


âœ… This creates an executable file named:

calc

ðŸ§© STEP 6 â€” EXECUTE THE PROGRAM
âž¤ Option 1: Run interactively
./calc


Example session:

Enter expressions (Ctrl+D to end):
5+7
= 12
8-3
= 5
Ctrl+D

âž¤ Option 2: Run with an input file
./calc < test.c


Output:

= 8

ðŸ§© STEP 7 â€” CLEANUP (optional)

If you want to recompile later, you can remove generated files with:

rm lex.yy.c parser.tab.c parser.tab.h calc


Then repeat steps 4â€“6.

âœ… Final Folder Structure

~/LexYaccDemo/
â”‚
â”œâ”€â”€ lexer.l
â”œâ”€â”€ parser.y
â”œâ”€â”€ test.c
â”œâ”€â”€ lex.yy.c
â”œâ”€â”€ parser.tab.c
â”œâ”€â”€ parser.tab.h
â””â”€â”€ calc


Thatâ€™s the entire working procedure from installation â†’ execution for Ubuntu.
